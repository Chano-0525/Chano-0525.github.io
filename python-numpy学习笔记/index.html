<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Python可视化 - Chano&#39;s Blog</title><meta name="Description" content="关于Python数据分析常用库-Numpy的笔记"><meta property="og:title" content="Python可视化" />
<meta property="og:description" content="关于Python数据分析常用库-Numpy的笔记" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" /><meta property="og:image" content="https://example.com/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-14T09:00:00+08:00" />
<meta property="article:modified_time" content="2021-11-14T09:00:00+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://example.com/logo.png"/>

<meta name="twitter:title" content="Python可视化"/>
<meta name="twitter:description" content="关于Python数据分析常用库-Numpy的笔记"/>
<meta name="application-name" content="Chano&#39;s Blog">
<meta name="apple-mobile-web-app-title" content="Chano&#39;s Blog"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" /><link rel="prev" href="https://example.com/python%E5%8F%AF%E8%A7%86%E5%8C%96/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Python可视化",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/example.com\/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0\/"
        },"image": ["https:\/\/example.com\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "Python, numpy","wordcount":  12845 ,
        "url": "https:\/\/example.com\/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0\/","datePublished": "2021-11-14T09:00:00+08:00","dateModified": "2021-11-14T09:00:00+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/example.com\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Chano"
            },"description": "关于Python数据分析常用库-Numpy的笔记"
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Chano&#39;s Blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Chano&#39;s Blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/categories/documentation/"> 文档 </a><a class="menu-item" href="/about/"> 关于 </a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Chano&#39;s Blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Chano&#39;s Blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/categories/documentation/" title="">文档</a><a class="menu-item" href="/about/" title="">关于</a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Python可视化</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Chano</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/%E5%AD%A6%E4%B9%A0/"><i class="far fa-folder fa-fw"></i>学习</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-11-14">2021-11-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 12845 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 26 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#安装">安装：</a></li>
    <li><a href="#教程地址">教程地址：</a></li>
    <li><a href="#numpy数组和python列表性能对比">Numpy数组和Python列表性能对比：</a></li>
  </ul>

  <ul>
    <li><a href="#numpy中的数组">numpy中的数组：</a></li>
    <li><a href="#创建数组npndarray对象">创建数组（np.ndarray对象）：</a></li>
    <li><a href="#ndarray常用属性">ndarray常用属性：</a>
      <ul>
        <li><a href="#ndarraydtype"><code>ndarray.dtype</code>：</a></li>
        <li><a href="#ndarraysize"><code>ndarray.size</code>：</a></li>
        <li><a href="#ndarrayndim"><code>ndarray.ndim</code>：</a></li>
        <li><a href="#ndarrayshape"><code>ndarray.shape</code>：</a></li>
        <li><a href="#ndarrayitemsize"><code>ndarray.itemsize</code>：</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#数组广播机制">数组广播机制：</a>
      <ul>
        <li><a href="#数组与数的计算">数组与数的计算：</a></li>
        <li><a href="#数组与数组的计算">数组与数组的计算：</a></li>
        <li><a href="#广播原则">广播原则：</a></li>
      </ul>
    </li>
    <li><a href="#数组形状的操作">数组形状的操作：</a>
      <ul>
        <li><a href="#reshape和resize方法">reshape和resize方法：</a></li>
        <li><a href="#flatten和ravel方法">flatten和ravel方法：</a></li>
        <li><a href="#不同数组的组合">不同数组的组合：</a></li>
        <li><a href="#数组的切割">数组的切割：</a></li>
      </ul>
    </li>
    <li><a href="#数组矩阵转置和轴对换">数组（矩阵）转置和轴对换：</a></li>
  </ul>

  <ul>
    <li><a href="#数组广播机制-1">数组广播机制：</a>
      <ul>
        <li><a href="#数组与数的计算-1">数组与数的计算：</a></li>
        <li><a href="#数组与数组的计算-1">数组与数组的计算：</a></li>
        <li><a href="#广播原则-1">广播原则：</a></li>
      </ul>
    </li>
    <li><a href="#数组形状的操作-1">数组形状的操作：</a>
      <ul>
        <li><a href="#reshape和resize方法-1">reshape和resize方法：</a></li>
        <li><a href="#flatten和ravel方法-1">flatten和ravel方法：</a></li>
        <li><a href="#不同数组的组合-1">不同数组的组合：</a></li>
        <li><a href="#数组的切割-1">数组的切割：</a></li>
      </ul>
    </li>
    <li><a href="#数组矩阵转置和轴对换-1">数组（矩阵）转置和轴对换：</a></li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#不拷贝">不拷贝：</a></li>
        <li><a href="#view或者浅拷贝">View或者浅拷贝：</a></li>
        <li><a href="#深拷贝">深拷贝：</a></li>
        <li><a href="#例子">例子：</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#操作csv文件">操作CSV文件：</a>
      <ul>
        <li><a href="#文件保存">文件保存：</a></li>
        <li><a href="#读取文件">读取文件：</a></li>
      </ul>
    </li>
    <li><a href="#np独有的存储解决方案">np独有的存储解决方案：</a></li>
  </ul>

  <ul>
    <li><a href="#读取csv文件">读取csv文件：</a></li>
    <li><a href="#写入数据到csv文件">写入数据到csv文件：</a></li>
  </ul>

  <ul>
    <li><a href="#nan一些特点">NAN一些特点：</a></li>
    <li><a href="#删除缺失值">删除缺失值：</a></li>
    <li><a href="#用其他值进行替代">用其他值进行替代：</a></li>
  </ul>

  <ul>
    <li><a href="#nprandomseed">np.random.seed：</a></li>
    <li><a href="#nprandomrand">np.random.rand：</a></li>
    <li><a href="#nprandomrandn">np.random.randn：</a></li>
    <li><a href="#nprandomrandint">np.random.randint：</a></li>
    <li><a href="#nprandomchoice">np.random.choice：</a></li>
    <li><a href="#nprandomshuffle">np.random.shuffle：</a></li>
    <li><a href="#更多">更多：</a></li>
  </ul>

  <ul>
    <li><a href="#三维以上数组">三维以上数组：</a></li>
  </ul>

  <ul>
    <li><a href="#一元函数">一元函数：</a></li>
    <li><a href="#二元函数">二元函数：</a>
      <ul>
        <li><a href="#聚合函数">聚合函数：</a></li>
        <li><a href="#布尔数组的函数">布尔数组的函数：</a></li>
        <li><a href="#排序">排序：</a></li>
        <li><a href="#其他函数补充">其他函数补充：</a></li>
      </ul>
    </li>
    <li><a href="#更多-1">更多：</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="numpy库介绍">Numpy库介绍</h1>
<p><code>NumPy</code>是一个功能强大的<code>Python</code>库，主要用于对多维数组执行计算。<code>NumPy</code>这个词来源于两个单词&ndash; <code>Numerical</code>和<code>Python</code>。<code>NumPy</code>提供了大量的库函数和操作，可以帮助程序员轻松地进行数值计算。在数据分析和机器学习领域被广泛使用。他有以下几个特点：</p>
<ol>
<li>numpy内置了并行运算功能，当系统有多个核心时，做某种计算时，numpy会自动做并行计算。</li>
<li>Numpy底层使用C语言编写，内部解除了GIL（全局解释器锁），其对数组的操作速度不受Python解释器的限制，效率远高于纯Python代码。</li>
<li>有一个强大的N维数组对象Array（一种类似于列表的东西）。</li>
<li>实用的线性代数、傅里叶变换和随机数生成函数。</li>
</ol>
<p>总而言之，他是一个非常高效的用于处理数值型运算的包。</p>
<h2 id="安装">安装：</h2>
<p>通过<code>pip install numpy</code>即可安装。</p>
<h2 id="教程地址">教程地址：</h2>
<ol>
<li>官网：<code>https://docs.scipy.org/doc/numpy/user/quickstart.html</code>。</li>
<li>中文文档：<code>https://www.numpy.org.cn/user_guide/quickstart_tutorial/index.html</code>。</li>
</ol>
<h2 id="numpy数组和python列表性能对比">Numpy数组和Python列表性能对比：</h2>
<p>比如我们想要对一个Numpy数组和Python列表中的每个素进行求平方。那么代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># Python列表的方式</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">):</span>
    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>花费的时间大约是<code>0.07180</code>左右。而如果使用<code>numpy</code>的数组来做，那速度就要快很多了：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">t3</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">t4</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t4</span><span class="o">-</span><span class="n">t3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="numpy数组基本用法">NumPy数组基本用法</h1>
<ol>
<li><code>Numpy</code>是<code>Python</code>科学计算库，用于快速处理任意维度的数组。</li>
<li><code>NumPy</code>提供一个<strong>N维数组类型ndarray</strong>，它描述了<strong>相同类型</strong>的“items”的集合。</li>
<li><code>numpy.ndarray</code>支持向量化运算。</li>
<li><code>NumPy</code>使用c语言写的，底部解除了<code>GIL</code>，其对数组的操作速度不在受<code>python</code>解释器限制。</li>
</ol>
<h2 id="numpy中的数组">numpy中的数组：</h2>
<p><code>Numpy</code>中的数组的使用跟<code>Python</code>中的列表非常类似。他们之间的区别如下：</p>
<ol>
<li>一个列表中可以存储多种数据类型。比如<code>a = [1,'a']</code>是允许的，而数组只能存储同种数据类型。</li>
<li>数组可以是多维的，当多维数组中所有的数据都是数值类型的时候，相当于线性代数中的矩阵，是可以进行相互间的运算的。</li>
</ol>
<h2 id="创建数组npndarray对象">创建数组（np.ndarray对象）：</h2>
<p><code>Numpy</code>经常和数组打交道，因此首先第一步是要学会创建数组。在<code>Numpy</code>中的数组的数据类型叫做<code>ndarray</code>。以下是两种创建的方式：</p>
<ol>
<li>
<p>根据<code>Python</code>中的列表生成：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a1</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>使用<code>np.arange</code>生成，<code>np.arange</code>的用法类似于<code>Python</code>中的<code>range</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>使用<code>np.random</code>生成随机数的数组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># 生成2行2列的随机数的数组</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1"># 元素是从0-10之间随机的3行3列的数组</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>使用函数生成特殊的数组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#生成一个所有元素都是0的2行2列的数组</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#生成一个所有元素都是1的3行2列的数组</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">8</span><span class="p">)</span> <span class="c1">#生成一个所有元素都是8的2行2列的数组</span>
<span class="n">a4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#生成一个在斜方形上元素为1，其他元素都为0的3x3的矩阵</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="ndarray常用属性">ndarray常用属性：</h2>
<h3 id="ndarraydtype"><code>ndarray.dtype</code>：</h3>
<p>因为数组中只能存储同一种数据类型，因此可以通过<code>dtype</code>获取数组中的元素的数据类型。以下是<code>ndarray.dtype</code>的常用的数据类型：</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
<th>唯一标识符</th>
</tr>
</thead>
<tbody>
<tr>
<td>bool</td>
<td>用一个字节存储的布尔类型（True或False）</td>
<td>&lsquo;b&rsquo;</td>
</tr>
<tr>
<td>int8</td>
<td>一个字节大小，-128 至 127</td>
<td>&lsquo;i1&rsquo;</td>
</tr>
<tr>
<td>int16</td>
<td>整数，16 位整数(-32768 ~ 32767)</td>
<td>&lsquo;i2&rsquo;</td>
</tr>
<tr>
<td>int32</td>
<td>整数，32 位整数(-2147483648 ~ 2147483647)</td>
<td>&lsquo;i4&rsquo;</td>
</tr>
<tr>
<td>int64</td>
<td>整数，64 位整数(-9223372036854775808 ~ 9223372036854775807)</td>
<td>&lsquo;i8&rsquo;</td>
</tr>
<tr>
<td>uint8</td>
<td>无符号整数，0 至 255</td>
<td>&lsquo;u1&rsquo;</td>
</tr>
<tr>
<td>uint16</td>
<td>无符号整数，0 至 65535</td>
<td>&lsquo;u2&rsquo;</td>
</tr>
<tr>
<td>uint32</td>
<td>无符号整数，0 至 2 ** 32 - 1</td>
<td>&lsquo;u4&rsquo;</td>
</tr>
<tr>
<td>uint64</td>
<td>无符号整数，0 至 2 ** 64 - 1</td>
<td>&lsquo;u8&rsquo;</td>
</tr>
<tr>
<td>float16</td>
<td>半精度浮点数：16位，正负号1位，指数5位，精度10位</td>
<td>&lsquo;f2&rsquo;</td>
</tr>
<tr>
<td>float32</td>
<td>单精度浮点数：32位，正负号1位，指数8位，精度23位</td>
<td>&lsquo;f4&rsquo;</td>
</tr>
<tr>
<td>float64</td>
<td>双精度浮点数：64位，正负号1位，指数11位，精度52位</td>
<td>&lsquo;f8&rsquo;</td>
</tr>
<tr>
<td>complex64</td>
<td>复数，分别用两个32位浮点数表示实部和虚部</td>
<td>&lsquo;c8&rsquo;</td>
</tr>
<tr>
<td>complex128</td>
<td>复数，分别用两个64位浮点数表示实部和虚部</td>
<td>&lsquo;c16&rsquo;</td>
</tr>
<tr>
<td>object_</td>
<td>python对象</td>
<td>&lsquo;O&rsquo;</td>
</tr>
<tr>
<td>string_</td>
<td>字符串</td>
<td>&lsquo;S&rsquo;</td>
</tr>
<tr>
<td>unicode_</td>
<td>unicode类型</td>
<td>&lsquo;U&rsquo;</td>
</tr>
</tbody>
</table>
<p>我们可以看到，<code>Numpy</code>中关于数值的类型比<code>Python</code>内置的多得多，这是因为<code>Numpy</code>为了能高效处理处理海量数据而设计的。举个例子，比如现在想要存储上百亿的数字，并且这些数字都不超过254（一个字节内），我们就可以将<code>dtype</code>设置为<code>int8</code>，这样就比默认使用<code>int64</code>更能节省内存空间了。类型相关的操作如下：</p>
<ol>
<li>
<p>默认的数据类型：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> 
<span class="c1"># 如果是windows系统，默认是int32</span>
<span class="c1"># 如果是mac或者linux系统，则根据系统来</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>指定<code>dtype</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="c1"># 或者 a1 = np.array([1,2,3],dtype=&#34;i8&#34;)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>修改<code>dtype</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="c1"># window系统下默认是int32</span>
<span class="c1"># 以下修改dtype</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span> <span class="c1"># astype不会修改数组本身，而是会将修改后的结果返回</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="ndarraysize"><code>ndarray.size</code>：</h3>
<p>获取数组中总的元素的个数。比如有个二维数组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">   <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
   <span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">size</span><span class="p">)</span> <span class="c1">#打印的是6，因为总共有6个元素</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="ndarrayndim"><code>ndarray.ndim</code>：</h3>
<p>数组的维数。比如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">   <span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span> <span class="c1"># 维度为1</span>
   <span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span> <span class="c1"># 维度为2</span>
   <span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]],[[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">],[</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">]]])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span> <span class="c1"># 维度为3</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="ndarrayshape"><code>ndarray.shape</code>：</h3>
<p>数组的维度的元组。比如以下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">   <span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># 输出(3,)，意思是一维数组，有3个数据</span>

   <span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># 输出(2,3)，意思是二位数组，2行3列</span>

   <span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
       <span class="p">[</span>
           <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
       <span class="p">],</span>
       <span class="p">[</span>
           <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span>
           <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">]</span>
       <span class="p">]</span>
   <span class="p">])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># 输出(2,2,3)，意思是三维数组，总共有2个元素，每个元素是2行3列的</span>

   <span class="n">a44</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a4</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># 输出(2,)，意思是a4是一个一维数组，总共有2列</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a4</span><span class="p">)</span> <span class="c1"># 输出[list([1, 2, 3]) list([4, 5])]，其中最外面层是数组，里面是Python列表</span>
</code></pre></td></tr></table>
</div>
</div><p>另外，我们还可以通过<code>ndarray.reshape</code>来重新修改数组的维数。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">   <span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="c1">#生成一个有12个数据的一维数组</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span> 

   <span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="c1">#变成一个2维数组，是3行4列的</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>

   <span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#变成一个3维数组，总共有2块，每一块是2行2列的</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>

   <span class="n">a4</span> <span class="o">=</span> <span class="n">a2</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">12</span><span class="p">,))</span> <span class="c1"># 将a2的二维数组重新变成一个12列的1维数组</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a4</span><span class="p">)</span>

   <span class="n">a5</span> <span class="o">=</span> <span class="n">a2</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span> <span class="c1"># 不管a2是几维数组，都将他变成一个一维数组</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a5</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>注意，<code>reshape</code>并不会修改原来数组本身，而是会将修改后的结果返回。如果想要直接修改数组本身，那么可以使用<code>resize</code>来替代<code>reshape</code>。</p>
<h3 id="ndarrayitemsize"><code>ndarray.itemsize</code>：</h3>
<p>数组中每个元素占的大小，单位是字节。比如以下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python">   <span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">itemsize</span><span class="p">)</span> <span class="c1"># 打印4，因为每个字节是8位，32位/8=4个字节</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="numpy数组操作1">Numpy数组操作(1)</h1>
<h2 id="数组广播机制">数组广播机制：</h2>
<h3 id="数组与数的计算">数组与数的计算：</h3>
<p>在<code>Python</code>列表中，想要对列表中所有的元素都加一个数，要么采用<code>map</code>函数，要么循环整个列表进行操作。但是<code>NumPy</code>中的数组可以直接在数组上进行操作。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="c1"># 如果想要在a1数组上所有元素都乘以10，那么可以通过以下来实现</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">*</span><span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="c1"># 也可以使用round让所有的元素只保留2位小数</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a2</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>以上例子是相乘，其实相加、相减、相除也都是类似的。</p>
<h3 id="数组与数组的计算">数组与数组的计算：</h3>
<ol>
<li>
<p>结构相同的数组之间的运算：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">+</span> <span class="n">a2</span> <span class="c1">#相减/相除/相乘都是可以的</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>与行数相同并且只有1列的数组之间的运算：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span> <span class="c1">#3行8列</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c1">#3行1列</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">-</span> <span class="n">a2</span> <span class="c1">#行数相同，且a2只有1列，能互相运算</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>与列数相同并且只有1行的数组之间的运算：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span> <span class="c1">#3行8列</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">-</span> <span class="n">a2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="广播原则">广播原则：</h3>
<p><strong>如果两个数组的后缘维度（trailing dimension，即从末尾开始算起的维度）的轴长度相符或其中一方的长度为1，则认为他们是广播兼容的。广播会在缺失和（或）长度为1的维度上进行。</strong>。看以下案例分析：</p>
<ol>
<li>
<p><code>shape</code>为<code>(3,8,2)</code>的数组能和<code>(8,3)</code>的数组进行运算吗？<br>
分析：不能，因为按照广播原则，从后面往前面数，<code>(3,8,2)</code>和<code>(8,3)</code>中的<code>2</code>和<code>3</code>不相等，所以不能进行运算。</p>
</li>
<li>
<p><code>shape</code>为<code>(3,8,2)</code>的数组能和<code>(8,1)</code>的数组进行运算吗？<br>
分析：能，因为按照广播原则，从后面往前面数，<code>(3,8,2)</code>和<code>(8,1)</code>中的<code>2</code>和<code>1</code>虽然不相等，但是因为有一方的长度为<code>1</code>，所以能参与运算。</p>
</li>
<li>
<p><code>shape</code>为<code>(3,1,8)</code>的数组能和<code>(8,1)</code>的数组进行运算吗？<br>
分析：能，因为按照广播原则，从后面往前面数，<code>(3,1,4)</code>和<code>(8,1)</code>中的<code>4</code>和<code>1</code>虽然不相等且<code>1</code>和<code>8</code>不相等，但是因为这两项中有一方的长度为<code>1</code>，所以能参与运算。</p>
</li>
</ol>
<hr>
<h2 id="数组形状的操作">数组形状的操作：</h2>
<p>可以通过一些函数，非常方便的操作数组的形状。</p>
<h3 id="reshape和resize方法">reshape和resize方法：</h3>
<p>两个方法都是用来修改数组形状的，但是有一些不同。</p>
<ol>
<li>
<p><code>reshape</code>是将数组转换成指定的形状，然后返回转换后的结果，对于原数组的形状是不会发生改变的。调用方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="c1">#将修改后的结果返回，不会影响原数组本身</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>resize</code>是将数组转换成指定的形状，会直接修改数组本身。并不会返回任何值。调用方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">a1</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="c1">#a1本身发生了改变</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="flatten和ravel方法">flatten和ravel方法：</h3>
<p>两个方法都是将多维数组转换为一维数组，但是有以下不同：</p>
<ol>
<li><code>flatten</code>是将数组转换为一维数组后，然后将这个拷贝返回回去，所以后续对这个返回值进行修改不会影响之前的数组。</li>
<li><code>ravel</code>是将数组转换为一维数组后，将这个视图（可以理解为引用）返回回去，所以后续对这个返回值进行修改会影响之前的数组。<br>
比如以下代码：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">x</span><span class="o">.</span><span class="n">flatten</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#此时的x[0]的位置元素还是1</span>
<span class="n">x</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#此时x[0]的位置元素是100</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="不同数组的组合">不同数组的组合：</h3>
<p>如果有多个数组想要组合在一起，也可以通过其中的一些函数来实现。</p>
<ol>
<li>
<p><code>vstack</code>：将数组按垂直方向进行叠加。数组的列数必须相同才能叠加。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">a1</span><span class="p">,</span><span class="n">a2</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>hstack</code>：将数组按水平方向进行叠加。数组的行必须相同才能叠加。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">a1</span><span class="p">,</span><span class="n">a2</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>concatenate([],axis)</code>：将两个数组进行叠加，但是具体是按水平方向还是按垂直方向。则要看<code>axis</code>的参数，如果<code>axis=0</code>，那么代表的是往垂直方向（行）叠加，如果<code>axis=1</code>，那么代表的是往水平方向（列）上叠加，如果<code>axis=None</code>，那么会将两个数组组合成一个一维数组。需要注意的是，如果往水平方向上叠加，那么行必须相同，如果是往垂直方向叠加，那么列必须相同。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># 结果：</span>
<span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>

<span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">T</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># 结果：</span>
<span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>

<span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="c1"># 结果：</span>
<span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="数组的切割">数组的切割：</h3>
<p>通过<code>hsplit</code>和<code>vsplit</code>以及<code>array_split</code>可以将一个数组进行切割。</p>
<ol>
<li>
<p><code>hsplit</code>：按照水平方向进行切割。用于指定分割成几列，可以使用数字来代表分成几部分，也可以使用数组来代表分割的地方。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">16.0</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">hsplit</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#分割成两部分</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">0.</span><span class="p">,</span>  <span class="mf">1.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">4.</span><span class="p">,</span>  <span class="mf">5.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">8.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">12.</span><span class="p">,</span> <span class="mf">13.</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">2.</span><span class="p">,</span>  <span class="mf">3.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">6.</span><span class="p">,</span>  <span class="mf">7.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">14.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]])]</span>

<span class="n">np</span><span class="o">.</span><span class="n">hsplit</span><span class="p">(</span><span class="n">a1</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="c1">#代表在下标为1的地方切一刀，下标为2的地方切一刀，分成三部分</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">4.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">8.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">12.</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">1.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">5.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">9.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">13.</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">2.</span><span class="p">,</span>  <span class="mf">3.</span><span class="p">],</span>
     <span class="p">[</span> <span class="mf">6.</span><span class="p">,</span>  <span class="mf">7.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">14.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]])]</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>vsplit</code>：按照垂直方向进行切割。用于指定分割成几行，可以使用数字来代表分成几部分，也可以使用数组来代表分割的地方。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">vsplit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#代表按照行总共分成2个数组</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">8.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">12.</span><span class="p">,</span> <span class="mf">13.</span><span class="p">,</span> <span class="mf">14.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]])]</span>

<span class="n">np</span><span class="o">.</span><span class="n">vsplit</span><span class="p">(</span><span class="n">x</span><span class="p">,(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1">#代表按照行进行划分，在下标为1的地方和下标为2的地方分割</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">]]),</span>
    <span class="n">array</span><span class="p">([[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">]]),</span>
    <span class="n">array</span><span class="p">([[</span> <span class="mf">8.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">],</span>
           <span class="p">[</span><span class="mf">12.</span><span class="p">,</span> <span class="mf">13.</span><span class="p">,</span> <span class="mf">14.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]])]</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>split/array_split(array,indicate_or_seciont,axis)</code>：用于指定切割方式，在切割的时候需要指定是按照行还是按照列，<code>axis=1</code>代表按照列，<code>axis=0</code>代表按照行。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">array_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#按照垂直方向切割成2部分</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">]]),</span> <span class="n">array</span><span class="p">([[</span> <span class="mf">8.</span><span class="p">,</span>  <span class="mf">9.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">,</span> <span class="mf">11.</span><span class="p">],</span>
     <span class="p">[</span><span class="mf">12.</span><span class="p">,</span> <span class="mf">13.</span><span class="p">,</span> <span class="mf">14.</span><span class="p">,</span> <span class="mf">15.</span><span class="p">]])]</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<hr>
<h2 id="数组矩阵转置和轴对换">数组（矩阵）转置和轴对换：</h2>
<p><code>numpy</code>中的数组其实就是线性代数中的矩阵。矩阵是可以进行转置的。<code>ndarray</code>有一个<code>T</code>属性，可以返回这个数组的转置的结果。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">T</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>另外还有一个方法叫做<code>transpose</code>，这个方法返回的是一个View，也即修改返回值，会影响到原来数组。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>为什么要进行矩阵转置呢，有时候在做一些计算的时候需要用到。比如做矩阵的内积的时候。就必须将矩阵进行转置后再乘以之前的矩阵：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">T</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">a2</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="numpy数组操作2">Numpy数组操作(2)</h1>
<h2 id="数组广播机制-1">数组广播机制：</h2>
<h3 id="数组与数的计算-1">数组与数的计算：</h3>
<p>在<code>Python</code>列表中，想要对列表中所有的元素都加一个数，要么采用<code>map</code>函数，要么循环整个列表进行操作。但是<code>NumPy</code>中的数组可以直接在数组上进行操作。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="c1"># 如果想要在a1数组上所有元素都乘以10，那么可以通过以下来实现</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">*</span><span class="mi">10</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="c1"># 也可以使用round让所有的元素只保留2位小数</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a2</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>以上例子是相乘，其实相加、相减、相除也都是类似的。</p>
<h3 id="数组与数组的计算-1">数组与数组的计算：</h3>
<ol>
<li>
<p>结构相同的数组之间的运算：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">+</span> <span class="n">a2</span> <span class="c1">#相减/相除/相乘都是可以的</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>与行数相同并且只有1列的数组之间的运算：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span> <span class="c1">#3行8列</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="c1">#3行1列</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">-</span> <span class="n">a2</span> <span class="c1">#行数相同，且a2只有1列，能互相运算</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>与列数相同并且只有1行的数组之间的运算：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span> <span class="c1">#3行8列</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">-</span> <span class="n">a2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a3</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="广播原则-1">广播原则：</h3>
<p><strong>如果两个数组的后缘维度（trailing dimension，即从末尾开始算起的维度）的轴长度相符或其中一方的长度为1，则认为他们是广播兼容的。广播会在缺失和（或）长度为1的维度上进行。</strong>。看以下案例分析：</p>
<ol>
<li>
<p><code>shape</code>为<code>(3,8,2)</code>的数组能和<code>(8,3)</code>的数组进行运算吗？<br>
分析：不能，因为按照广播原则，从后面往前面数，<code>(3,8,2)</code>和<code>(8,3)</code>中的<code>2</code>和<code>3</code>不相等，所以不能进行运算。</p>
</li>
<li>
<p><code>shape</code>为<code>(3,8,2)</code>的数组能和<code>(8,1)</code>的数组进行运算吗？<br>
分析：能，因为按照广播原则，从后面往前面数，<code>(3,8,2)</code>和<code>(8,1)</code>中的<code>2</code>和<code>1</code>虽然不相等，但是因为有一方的长度为<code>1</code>，所以能参与运算。</p>
</li>
<li>
<p><code>shape</code>为<code>(3,1,8)</code>的数组能和<code>(8,1)</code>的数组进行运算吗？<br>
分析：能，因为按照广播原则，从后面往前面数，<code>(3,1,4)</code>和<code>(8,1)</code>中的<code>4</code>和<code>1</code>虽然不相等且<code>1</code>和<code>8</code>不相等，但是因为这两项中有一方的长度为<code>1</code>，所以能参与运算。</p>
</li>
</ol>
<hr>
<h2 id="数组形状的操作-1">数组形状的操作：</h2>
<p>可以通过一些函数，非常方便的操作数组的形状。</p>
<h3 id="reshape和resize方法-1">reshape和resize方法：</h3>
<p>两个方法都是用来修改数组形状的，但是有一些不同。</p>
<ol>
<li>
<p><code>reshape</code>是将数组转换成指定的形状，然后返回转换后的结果，对于原数组的形状是不会发生改变的。调用方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="c1">#将修改后的结果返回，不会影响原数组本身</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>resize</code>是将数组转换成指定的形状，会直接修改数组本身。并不会返回任何值。调用方式：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">a1</span><span class="o">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="c1">#a1本身发生了改变</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="flatten和ravel方法-1">flatten和ravel方法：</h3>
<p>两个方法都是将多维数组转换为一维数组，但是有以下不同：</p>
<ol>
<li><code>flatten</code>是将数组转换为一维数组后，然后将这个拷贝返回回去，所以后续对这个返回值进行修改不会影响之前的数组。</li>
<li><code>ravel</code>是将数组转换为一维数组后，将这个视图（可以理解为引用）返回回去，所以后续对这个返回值进行修改会影响之前的数组。<br>
比如以下代码：</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="n">x</span><span class="o">.</span><span class="n">flatten</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#此时的x[0]的位置元素还是1</span>
<span class="n">x</span><span class="o">.</span><span class="n">ravel</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span> <span class="c1">#此时x[0]的位置元素是100</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="不同数组的组合-1">不同数组的组合：</h3>
<p>如果有多个数组想要组合在一起，也可以通过其中的一些函数来实现。</p>
<ol>
<li>
<p><code>vstack</code>：将数组按垂直方向进行叠加。数组的列数必须相同才能叠加。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">a1</span><span class="p">,</span><span class="n">a2</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>hstack</code>：将数组按水平方向进行叠加。数组的行必须相同才能叠加。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span><span class="n">a2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span><span class="n">a3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">([</span><span class="n">a1</span><span class="p">,</span><span class="n">a2</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>concatenate([],axis)</code>：将两个数组进行叠加，但是具体是按水平方向还是按垂直方向。则要看<code>axis</code>的参数，如果<code>axis=0</code>，那么代表的是往垂直方向（行）叠加，如果<code>axis=1</code>，那么代表的是往水平方向（列）上叠加，如果<code>axis=None</code>，那么会将两个数组组合成一个一维数组。需要注意的是，如果往水平方向上叠加，那么行必须相同，如果是往垂直方向叠加，那么列必须相同。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span><span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="c1"># 结果：array([[1, 2],    [3, 4],    [5, 6]])np.concatenate((a, b.T), axis=1)# 结果：array([[1, 2, 5],    [3, 4, 6]])np.concatenate((a, b), axis=None)# 结果：array([1, 2, 3, 4, 5, 6])</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="数组的切割-1">数组的切割：</h3>
<p>通过<code>hsplit</code>和<code>vsplit</code>以及<code>array_split</code>可以将一个数组进行切割。</p>
<ol>
<li>
<p><code>hsplit</code>：按照水平方向进行切割。用于指定分割成几列，可以使用数字来代表分成几部分，也可以使用数组来代表分割的地方。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">16.0</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="n">np</span><span class="o">.</span><span class="n">hsplit</span><span class="p">(</span><span class="n">a1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#分割成两部分&gt;&gt;&gt; array([[ 0.,  1.],     [ 4.,  5.],     [ 8.,  9.],     [12., 13.]]), array([[ 2.,  3.],     [ 6.,  7.],     [10., 11.],     [14., 15.]])]np.hsplit(a1,[1,2]) #代表在下标为1的地方切一刀，下标为2的地方切一刀，分成三部分&gt;&gt;&gt; [array([[ 0.],     [ 4.],     [ 8.],     [12.]]), array([[ 1.],     [ 5.],     [ 9.],     [13.]]), array([[ 2.,  3.],     [ 6.,  7.],     [10., 11.],     [14., 15.]])]</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>vsplit</code>：按照垂直方向进行切割。用于指定分割成几行，可以使用数字来代表分成几部分，也可以使用数组来代表分割的地方。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">vsplit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#代表按照行总共分成2个数组&gt;&gt;&gt; [array([[0., 1., 2., 3.],     [4., 5., 6., 7.]]), array([[ 8.,  9., 10., 11.],     [12., 13., 14., 15.]])]np.vsplit(x,(1,2)) #代表按照行进行划分，在下标为1的地方和下标为2的地方分割&gt;&gt;&gt; [array([[0., 1., 2., 3.]]),    array([[4., 5., 6., 7.]]),    array([[ 8.,  9., 10., 11.],           [12., 13., 14., 15.]])]</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>split/array_split(array,indicate_or_seciont,axis)</code>：用于指定切割方式，在切割的时候需要指定是按照行还是按照列，<code>axis=1</code>代表按照列，<code>axis=0</code>代表按照行。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">array_split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#按照垂直方向切割成2部分&gt;&gt;&gt; [array([[0., 1., 2., 3.],     [4., 5., 6., 7.]]), array([[ 8.,  9., 10., 11.],     [12., 13., 14., 15.]])]</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<hr>
<h2 id="数组矩阵转置和轴对换-1">数组（矩阵）转置和轴对换：</h2>
<p><code>numpy</code>中的数组其实就是线性代数中的矩阵。矩阵是可以进行转置的。<code>ndarray</code>有一个<code>T</code>属性，可以返回这个数组的转置的结果。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span><span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">Tprint</span><span class="p">(</span><span class="n">a2</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>另外还有一个方法叫做<code>transpose</code>，这个方法返回的是一个View，也即修改返回值，会影响到原来数组。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span><span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>为什么要进行矩阵转置呢，有时候在做一些计算的时候需要用到。比如做矩阵的内积的时候。就必须将矩阵进行转置后再乘以之前的矩阵：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span><span class="n">a2</span> <span class="o">=</span> <span class="n">a1</span><span class="o">.</span><span class="n">Tprint</span><span class="p">(</span><span class="n">a1</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">a2</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="深拷贝和浅拷贝">深拷贝和浅拷贝</h1>
<p>在操作数组的时候，它们的数据有时候拷贝进一个新的数组，有时候又不是。这经常是初学者感到困惑。下面有三种情况：</p>
<h3 id="不拷贝">不拷贝：</h3>
<p>如果只是简单的赋值，那么不会进行拷贝。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="c1">#这种情况不会进行拷贝</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span> <span class="ow">is</span> <span class="n">a</span><span class="p">)</span> <span class="c1">#返回True，说明b和a是相同的</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="view或者浅拷贝">View或者浅拷贝：</h3>
<p>有些情况，会进行变量的拷贝，但是他们所指向的内存空间都是一样的，那么这种情况叫做浅拷贝，或者叫做<code>View(视图)</code>。比如以下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">view</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="ow">is</span> <span class="n">a</span><span class="p">)</span> <span class="c1">#返回False，说明c和a是两个不同的变量</span>
<span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1">#打印100，说明对c上的改变，会影响a上面的值，说明他们指向的内存空间还是一样的，这种叫做浅拷贝，或者说是view</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="深拷贝">深拷贝：</h3>
<p>将之前数据完完整整的拷贝一份放到另外一块内存空间中，这样就是两个完全不同的值了。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span> <span class="ow">is</span> <span class="n">a</span><span class="p">)</span> <span class="c1">#返回False，说明d和a是两个不同的变量</span>
<span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1">#打印0，说明d和a指向的内存空间完全不同了。</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="例子">例子：</h3>
<p>像之前讲到的<code>flatten</code>和<code>ravel</code>就是这种情况，<code>ravel</code>返回的就是View，而<code>flatten</code>返回的就是深拷贝。</p>
<h1 id="文件操作">文件操作</h1>
<h2 id="操作csv文件">操作CSV文件：</h2>
<h3 id="文件保存">文件保存：</h3>
<p>有时候我们有了一个数组，需要保存到文件中，那么可以使用<code>np.savetxt</code>来实现。相关的函数描述如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.18e</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="o">*</span> <span class="n">frame</span> <span class="p">:</span> <span class="n">文件</span><span class="err">、</span><span class="n">字符串或产生器</span><span class="err">，</span><span class="n">可以是</span><span class="o">.</span><span class="n">gz或</span><span class="o">.</span><span class="n">bz2的压缩文件</span>
<span class="o">*</span> <span class="n">array</span> <span class="p">:</span> <span class="n">存入文件的数组</span>
<span class="o">*</span> <span class="n">fmt</span> <span class="p">:</span> <span class="n">写入文件的格式</span><span class="err">，</span><span class="n">例如</span><span class="err">：</span><span class="o">%</span><span class="n">d</span> <span class="o">%</span><span class="mf">.2</span><span class="n">f</span> <span class="o">%</span><span class="mf">.18</span><span class="n">e</span>
<span class="o">*</span> <span class="n">delimiter</span> <span class="p">:</span> <span class="n">分割字符串</span><span class="err">，</span><span class="n">默认是任何空格</span>
</code></pre></td></tr></table>
</div>
</div><p>以下是使用的例子：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s2">&#34;a.csv&#34;</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s2">&#34;,&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="读取文件">读取文件：</h3>
<p>有时候我们的数据是需要从文件中读取出来的，那么可以使用<code>np.loadtxt</code>来实现。相关的函数描述如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="o">*</span> <span class="n">frame</span><span class="err">：</span><span class="n">文件</span><span class="err">、</span><span class="n">字符串或产生器</span><span class="err">，</span><span class="n">可以是</span><span class="o">.</span><span class="n">gz或</span><span class="o">.</span><span class="n">bz2的压缩文件</span><span class="err">。</span>
<span class="o">*</span> <span class="n">dtype</span><span class="err">：</span><span class="n">数据类型</span><span class="err">，</span><span class="n">可选</span><span class="err">。</span>
<span class="o">*</span> <span class="n">delimiter</span><span class="err">：</span><span class="n">分割字符串</span><span class="err">，</span><span class="n">默认是任何空格</span><span class="err">。</span>
<span class="o">*</span> <span class="n">skiprows</span><span class="err">：</span><span class="n">跳过前面x行</span><span class="err">。</span>
<span class="o">*</span> <span class="n">usecols</span><span class="err">：</span><span class="n">读取指定的列</span><span class="err">，</span><span class="n">用元组组合</span><span class="err">。</span>
<span class="o">*</span> <span class="n">unpack</span><span class="err">：</span><span class="n">如果True</span><span class="err">，</span><span class="n">读取出来的数组是转置后的</span><span class="err">。</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="np独有的存储解决方案">np独有的存储解决方案：</h2>
<p><code>numpy</code>中还有一种独有的存储解决方案。文件名是以<code>.npy</code>或者<code>npz</code>结尾的。以下是存储和加载的函数。</p>
<ol>
<li>存储：<code>np.save(fname,array)</code>或<code>np.savez(fname,array)</code>。其中，前者函数的扩展名是<code>.npy</code>，后者的扩展名是<code>.npz</code>，后者是经过压缩的。</li>
<li>加载：<code>np.load(fname)</code>。</li>
</ol>
<hr>
<h1 id="csv文件操作">CSV文件操作：</h1>
<h2 id="读取csv文件">读取csv文件：</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">csv</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;stock.csv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
    <span class="n">titles</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>这样操作，以后获取数据的时候，就要通过下表来获取数据。如果想要在获取数据的时候通过标题来获取。那么可以使用<code>DictReader</code>。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">csv</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;stock.csv&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictReader</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;turnoverVol&#39;</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="写入数据到csv文件">写入数据到csv文件：</h2>
<p>写入数据到csv文件，需要创建一个<code>writer</code>对象，主要用到两个方法。一个是<code>writerow</code>，这个是写入一行。一个是<code>writerows</code>，这个是写入多行。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;classroom&#39;</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;zhiliao&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;111&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;wena&#39;</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="s1">&#39;222&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;bbc&#39;</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="s1">&#39;111&#39;</span><span class="p">)</span>
<span class="p">]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">headers</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>也可以使用字典的方式把数据写入进去。这时候就需要使用<code>DictWriter</code>了。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">csv</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">,</span><span class="s1">&#39;classroom&#39;</span><span class="p">]</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&#34;name&#34;</span><span class="p">:</span><span class="s1">&#39;wenn&#39;</span><span class="p">,</span><span class="s2">&#34;age&#34;</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="s2">&#34;classroom&#34;</span><span class="p">:</span><span class="s1">&#39;222&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&#34;name&#34;</span><span class="p">:</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span><span class="s2">&#34;age&#34;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="s2">&#34;classroom&#34;</span><span class="p">:</span><span class="s1">&#39;333&#39;</span><span class="p">}</span>
<span class="p">]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">DictWriter</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span><span class="n">headers</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;zhiliao&#39;</span><span class="p">,</span><span class="s2">&#34;age&#34;</span><span class="p">:</span><span class="mi">18</span><span class="p">,</span><span class="s2">&#34;classroom&#34;</span><span class="p">:</span><span class="s1">&#39;111&#39;</span><span class="p">})</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="nan和inf值处理">NAN和INF值处理</h1>
<p>首先我们要知道这两个英文单词代表的什么意思：</p>
<ol>
<li><code>NAN</code>：<code>Not A number</code>，不是一个数字的意思，但是他是属于浮点类型的，所以想要进行数据操作的时候需要注意他的类型。</li>
<li><code>INF</code>：<code>Infinity</code>，代表的是无穷大的意思，也是属于浮点类型。<code>np.inf</code>表示正无穷大，<code>-np.inf</code>表示负无穷大，一般在出现除数为0的时候为无穷大。比如<code>2/0</code>。</li>
</ol>
<h2 id="nan一些特点">NAN一些特点：</h2>
<ol>
<li>NAN和NAN不相等。比如<code>np.NAN != np.NAN</code>这个条件是成立的。</li>
<li>NAN和任何值做运算，结果都是NAN。</li>
</ol>
<p>有些时候，特别是从文件中读取数据的时候，经常会出现一些缺失值。缺失值的出现会影响数据的处理。因此我们在做数据分析之前，先要对缺失值进行一些处理。处理的方式有多种，需要根据实际情况来做。一般有两种处理方式：删除缺失值，用其他值进行填充。</p>
<h2 id="删除缺失值">删除缺失值：</h2>
<p>有时候，我们想要将数组中的<code>NAN</code>删掉，那么我们可以换一种思路，就是只提取不为<code>NAN</code>的值。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="c1"># 1. 删除所有NAN的值，因为删除了值后数组将不知道该怎么变化，所以会被变成一维数组</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data</span><span class="p">)]</span> <span class="c1"># 此时的data会没有nan，并且变成一个1维数组</span>

<span class="c1"># 2. 删除NAN所在的行</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="c1"># 将第(0,1)和(1,2)两个值设置为NAN</span>
<span class="n">data</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span>
<span class="c1"># 获取哪些行有NAN</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">data</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1"># 使用delete方法删除指定的行,axis=0表示删除行，lines表示删除的行号</span>
<span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">lines</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="用其他值进行替代">用其他值进行替代：</h2>
<p>有些时候我们不想直接删掉，比如有一个成绩表，分别是数学和英语，但是因为某个人在某个科目上没有成绩，那么此时就会出现NAN的情况，这时候就不能直接删掉了，就可以使用某些值进行替代。假如有以下表格：</p>
<table>
<thead>
<tr>
<th>数学</th>
<th>英语</th>
</tr>
</thead>
<tbody>
<tr>
<td>59</td>
<td>89</td>
</tr>
<tr>
<td>90</td>
<td>32</td>
</tr>
<tr>
<td>78</td>
<td>45</td>
</tr>
<tr>
<td>34</td>
<td>NAN</td>
</tr>
<tr>
<td>NAN</td>
<td>56</td>
</tr>
<tr>
<td>23</td>
<td>56</td>
</tr>
</tbody>
</table>
<p>如果想要求每门成绩的总分，以及每门成绩的平均分，那么就可以采用某些值替代。比如求总分，那么就可以把NAN替换成0，如果想要求平均分，那么就可以把NAN替换成其他值的平均值。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s2">&#34;nan_scores.csv&#34;</span><span class="p">,</span><span class="n">skiprows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&#34;utf-8&#34;</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">str</span><span class="p">)</span>
<span class="n">scores</span><span class="p">[</span><span class="n">scores</span> <span class="o">==</span> <span class="s2">&#34;&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">NAN</span>
<span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>
<span class="c1"># 1. 求出学生成绩的总分</span>
<span class="n">scores1</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">socres1</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># 2. 求出每门成绩的平均分</span>
<span class="n">scores2</span> <span class="o">=</span> <span class="n">scores</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">scores2</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">scores2</span><span class="p">[:,</span><span class="n">x</span><span class="p">]</span>
    <span class="n">non_nan_score</span> <span class="o">=</span> <span class="n">score</span><span class="p">[</span><span class="n">score</span> <span class="o">==</span> <span class="n">score</span><span class="p">]</span>
    <span class="n">score</span><span class="p">[</span><span class="n">score</span> <span class="o">!=</span> <span class="n">score</span><span class="p">]</span> <span class="o">=</span> <span class="n">non_nan_score</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">scores2</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</code></pre></td></tr></table>
</div>
</div><h1 id="nprandom模块">np.random模块</h1>
<p><code>np.random</code>为我们提供了许多获取随机数的函数。这里统一来学习一下。</p>
<h2 id="nprandomseed">np.random.seed：</h2>
<p>用于指定随机数生成时所用算法开始的整数值，如果使用相同的<code>seed()</code>值，则每次生成的随即数都相同，如果不设置这个值，则系统根据时间来自己选择这个值，此时每次生成的随机数因时间差异而不同。一般没有特殊要求不用设置。以下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">())</span> <span class="c1"># 打印0.417022004702574</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">())</span> <span class="c1"># 打印其他的值，因为随机数种子只对下一次随机数的产生会有影响。</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="nprandomrand">np.random.rand：</h2>
<p>生成一个值为<code>[0,1)</code>之间的数组，形状由参数指定，如果没有参数，那么将返回一个随机值。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># 生成2块3行4列的数组，值从0-1之间</span>
<span class="n">data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="c1">#生成一个0-1之间的随机数</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="nprandomrandn">np.random.randn：</h2>
<p>生成均值(μ)为0，标准差（σ）为1的标准正态分布的值。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#生成一个2行3列的数组，数组中的值都满足标准正太分布</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="nprandomrandint">np.random.randint：</h2>
<p>生成指定范围内的随机数，并且可以通过<code>size</code>参数指定维度。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">data1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="c1">#生成值在0-10之间，3行5列的数组</span>
<span class="n">data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="c1">#生成值在1-20之间，3行6列的数组</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="nprandomchoice">np.random.choice：</h2>
<p>从一个列表或者数组中，随机进行采样。或者是从指定的区间中进行采样，采样个数可以通过参数指定：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="n">result1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1">#从data中随机采样，生成2行3列的数组</span>
<span class="n">result2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#从data中随机采样3个数据形成一个一维数组</span>
<span class="n">result3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="c1">#从0-10之间随机取3个值</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="nprandomshuffle">np.random.shuffle：</h2>
<p>把原来数组的元素的位置打乱。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#将a的元素的位置都会进行随机更换</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="更多">更多：</h2>
<p>更多的random模块的文档，请参考<code>Numpy</code>的官方文档：<a href="https://docs.scipy.org/doc/numpy/reference/routines.random.html" target="_blank" rel="noopener noreffer">https://docs.scipy.org/doc/numpy/reference/routines.random.html</a></p>
<h1 id="axis理解">Axis理解</h1>
<p>之前的课程中，为了方便大家理解，我们说<code>axis=0</code>代表的是行，<code>axis=1</code>代表的是列。但其实不是这么简单理解的。这里我们专门用一节来解释一下这个<code>axis</code>轴的概念。</p>
<p>简单来说， <strong>最外面的括号代表着 axis=0，依次往里的括号对应的 axis 的计数就依次加 1</strong>。什么意思呢？下面再来解释一下。 
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis1.png"
        data-srcset="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis1.png, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis1.png 1.5x, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis1.png 2x"
        data-sizes="auto"
        alt="D:\Code\myBlog\static\images\axis1.png"
        title="D:\Code\myBlog\static\images\axis1.png" /></p>
<p>最外面的括号就是<code>axis=0</code>，里面两个子括号<code>axis=1</code>。
<strong>操作方式：如果指定轴进行相关的操作，那么他会使用轴下的每个直接子元素的第0个，第1个，第2个&hellip;分别进行相关的操作。</strong></p>
<p>现在我们用刚刚理解的方式来做几个操作。比如现在有一个二维的数组：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
</code></pre></td></tr></table>
</div>
</div><ol>
<li>
<p>求<code>x</code>数组在<code>axis=0</code>和<code>axis=1</code>两种情况下的和：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
 <span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><p>为什么得到的是[2,4]呢，原因是我们按照<code>axis=0</code>的方式进行相加，那么就会把<strong>最外面轴下的所有直接子元素中的第0个位置进行相加，第1个位置进行相加&hellip;依此类推</strong>，得到的就是<code>0+2</code>以及<code>2+3</code>，然后进行相加，得到的结果就是<code>[2,4]</code>。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
 <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><p>因为我们按照<code>axis=1</code>的方式进行相加，那么就会把<strong>轴为1里面的元素拿出来进行求和</strong>，得到的就是<code>0,1</code>，进行相加为<code>1</code>，以及<code>2,3</code>进行相加为<code>5</code>，所以最终结果就是<code>[1,5]</code>了。</p>
</li>
<li>
<p>用<code>np.max</code>求<code>axis=0</code>和<code>axis=1</code>两种情况下的最大值：</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">array</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><p>因为我们是按照<code>axis=0</code>进行求最大值，那么就会在最外面轴里面找直接子元素，然后将每个子元素的第0个值放在一起求最大值，将第1个值放在一起求最大值，以此类推。而如果<code>axis=1</code>，那么就是拿到每个直接子元素，然后求每个子元素中的最大值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">array</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
</code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>
<p>用<code>np.delete</code>在<code>axis=0</code>和<code>axis=1</code>两种情况下删除元素：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
 <span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
</code></pre></td></tr></table>
</div>
</div><p><code>np.delete</code>是个例外。我们按照<code>axis=0</code>的方式进行删除，那么他会首先找到最外面的括号下的直接子元素中的第0个，然后删掉，剩下最后一行的数据。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
 <span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">[</span><span class="mi">3</span><span class="p">]])</span>
</code></pre></td></tr></table>
</div>
</div><p>同理，如果我们按照<code>axis=1</code>进行删除，那么会把第一列的数据删掉。</p>
</li>
</ol>
<h2 id="三维以上数组">三维以上数组：</h2>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis2.png"
        data-srcset="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis2.png, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis2.png 1.5x, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis2.png 2x"
        data-sizes="auto"
        alt="D:\Code\myBlog\static\images\axis2.png"
        title="D:\Code\myBlog\static\images\axis2.png" />
按照之前的理论，如果以上数组按照<code>axis=0</code>的方式进行相加，得到的结果如下：
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis3.png"
        data-srcset="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis3.png, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis3.png 1.5x, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis3.png 2x"
        data-sizes="auto"
        alt="D:\Code\myBlog\static\images\axis3.png"
        title="D:\Code\myBlog\static\images\axis3.png" />
如果是按照<code>axis=1</code>的方式进行相加，得到的结果如下：
<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis4.png"
        data-srcset="D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis4.png, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis4.png 1.5x, D:%5cCode%5cmyBlog%5cstatic%5cimages%5caxis4.png 2x"
        data-sizes="auto"
        alt="D:\Code\myBlog\static\images\axis4.png"
        title="D:\Code\myBlog\static\images\axis4.png" /></p>
<h1 id="通用函数">通用函数</h1>
<h2 id="一元函数">一元函数：</h2>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>np.abs</td>
<td>绝对值</td>
</tr>
<tr>
<td>np.sqrt</td>
<td>开根</td>
</tr>
<tr>
<td>np.square</td>
<td>平方</td>
</tr>
<tr>
<td>np.exp</td>
<td>计算指数(e^x)</td>
</tr>
<tr>
<td>np.log，np.log10，np.log2，np.log1p</td>
<td>求以e为底，以10为低，以2为低，以(1+x)为底的对数</td>
</tr>
<tr>
<td>np.sign</td>
<td>将数组中的值标签化，大于0的变成1，等于0的变成0，小于0的变成-1</td>
</tr>
<tr>
<td>np.ceil</td>
<td>朝着无穷大的方向取整，比如5.1会变成6，-6.3会变成-6</td>
</tr>
<tr>
<td>np.floor</td>
<td>朝着负无穷大方向取证，比如5.1会变成5，-6.3会变成-7</td>
</tr>
<tr>
<td>np.rint，np.round</td>
<td>返回四舍五入后的值</td>
</tr>
<tr>
<td>np.modf</td>
<td>将整数和小数分隔开来形成两个数组</td>
</tr>
<tr>
<td>np.isnan</td>
<td>判断是否是nan</td>
</tr>
<tr>
<td>np.isinf</td>
<td>判断是否是inf</td>
</tr>
<tr>
<td>np.cos，np.cosh，np.sin，np.sinh，np.tan，np.tanh</td>
<td>三角函数</td>
</tr>
<tr>
<td>np.arccos，np.arcsin，np.arctan</td>
<td>反三角函数</td>
</tr>
</tbody>
</table>
<h2 id="二元函数">二元函数：</h2>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>np.add</td>
<td>加法运算（即1+1=2），相当于+</td>
</tr>
<tr>
<td>np.subtract</td>
<td>减法运算（即3-2=1），相当于-</td>
</tr>
<tr>
<td>np.negative</td>
<td>负数运算（即-2），相当于加个负号</td>
</tr>
<tr>
<td>np.multiply</td>
<td>乘法运算（即2*3=6），相当于*</td>
</tr>
<tr>
<td>np.divide</td>
<td>除法运算（即3/2=1.5），相当于/</td>
</tr>
<tr>
<td>np.floor_divide</td>
<td>取整运算，相当于//</td>
</tr>
<tr>
<td>np.mod</td>
<td>取余运算，相当于%</td>
</tr>
<tr>
<td>greater,greater_equal,less,less_equal,equal,not_equal</td>
<td>&gt;,&gt;=,&lt;,&lt;=,=,!=的函数表达式</td>
</tr>
<tr>
<td>logical_and</td>
<td>&amp;的函数表达式</td>
</tr>
<tr>
<td>logical_or</td>
<td>|的函数表达式</td>
</tr>
</tbody>
</table>
<h3 id="聚合函数">聚合函数：</h3>
<table>
<thead>
<tr>
<th>函数名称</th>
<th>NAN安全版本</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>np.sum</td>
<td>np.nansum</td>
<td>计算元素的和</td>
</tr>
<tr>
<td>np.prod</td>
<td>np.nanprod</td>
<td>计算元素的积</td>
</tr>
<tr>
<td>np.mean</td>
<td>np.nanmean</td>
<td>计算元素的平均值</td>
</tr>
<tr>
<td>np.std</td>
<td>np.nanstd</td>
<td>计算元素的标准差</td>
</tr>
<tr>
<td>np.var</td>
<td>np.nanvar</td>
<td>计算元素的方差</td>
</tr>
<tr>
<td>np.min</td>
<td>np.nanmin</td>
<td>计算元素的最小值</td>
</tr>
<tr>
<td>np.max</td>
<td>np.nanmax</td>
<td>计算元素的最大值</td>
</tr>
<tr>
<td>np.argmin</td>
<td>np.nanargmin</td>
<td>找出最小值的索引</td>
</tr>
<tr>
<td>np.argmax</td>
<td>np.nanargmax</td>
<td>找出最大值的索引</td>
</tr>
<tr>
<td>np.median</td>
<td>np.nanmedian</td>
<td>计算元素的中位数</td>
</tr>
</tbody>
</table>
<p>使用<code>np.sum</code>或者是<code>a.sum</code>即可实现。并且在使用的时候，可以指定具体哪个轴。同样<code>Python</code>中也内置了<code>sum</code>函数，但是Python内置的<code>sum</code>函数执行效率没有<code>np.sum</code>那么高，可以通过以下代码测试了解到：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span>
<span class="o">%</span><span class="n">timeit</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#使用Python内置的sum函数求总和，看下所花费的时间</span>
<span class="o">%</span><span class="n">timeit</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#使用Numpy的sum函数求和，看下所花费的时间</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="布尔数组的函数">布尔数组的函数：</h3>
<table>
<thead>
<tr>
<th style="text-align:left">函数名称</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">np.any</td>
<td style="text-align:left">验证任何一个元素是否为真</td>
</tr>
<tr>
<td style="text-align:left">np.all</td>
<td style="text-align:left">验证所有元素是否为真</td>
</tr>
</tbody>
</table>
<p>比如想看下数组中是不是所有元素都为0，那么可以通过以下代码来实现：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> 
<span class="c1"># 或者是</span>
<span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>比如我们想要看数组中是否有等于0的数，那么可以通过以下代码来实现：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
<span class="c1"># 或者是</span>
<span class="p">(</span><span class="n">a</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="排序">排序：</h3>
<ol>
<li>
<p><code>np.sort</code>：指定轴进行排序。默认是使用数组的最后一个轴进行排序。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
 <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#按照行进行排序，因为最后一个轴是1，那么就是将最里面的元素进行排序。</span>
 <span class="n">c</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#按照列进行排序，因为指定了axis=0</span>
</code></pre></td></tr></table>
</div>
</div><p>还有<code>ndarray.sort()</code>，这个方法会直接影响到原来的数组，而不是返回一个新的排序后的数组。</p>
</li>
<li>
<p><code>np.argsort</code>：返回排序后的下标值。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#默认也是使用最后的一个轴来进行排序。</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>降序排序：<code>np.sort</code>默认会采用升序排序。如果我们想采用降序排序。那么可以采用以下方案来实现：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="c1"># 1. 使用负号</span>
 <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="p">)</span>

 <span class="c1"># 2. 使用sort和argsort以及take</span>
 <span class="n">indexes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="p">)</span> <span class="c1">#排序后的结果就是降序的</span>
 <span class="n">np</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">indexes</span><span class="p">)</span> <span class="c1">#从a中根据下标提取相应的元素</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="其他函数补充">其他函数补充：</h3>
<ol>
<li>
<p><code>np.apply_along_axis</code>：沿着某个轴执行指定的函数。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="c1"># 求数组a按行求均值，并且要去掉最大值和最小值。</span>
 <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">x</span><span class="o">.</span><span class="n">max</span><span class="p">())</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">x</span><span class="o">.</span><span class="n">min</span><span class="p">())]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">arr</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>np.linspace</code>：用来将指定区间内的值平均分成多少份。示例代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="c1"># 将0-1分成12分，生成一个数组</span>
 <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>np.unique</code>：返回数组中的唯一值。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"> <span class="c1"># 返回数组a中的唯一值，并且会返回每个唯一值出现的次数。</span>
 <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h2 id="更多-1">更多：</h2>
<p><a href="https://docs.scipy.org/doc/numpy/reference/index.html" target="_blank" rel="noopener noreffer">https://docs.scipy.org/doc/numpy/reference/index.html</a></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2021-11-14</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-title="Python可视化" data-hashtags="Python,numpy"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-hashtag="Python"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Hacker News" data-sharer="hackernews" data-url="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-title="Python可视化"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-title="Python可视化"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://example.com/python-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-title="Python可视化"><i class="fab fa-weibo fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/python/">Python</a>,&nbsp;<a href="/tags/numpy/">numpy</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/python%E5%8F%AF%E8%A7%86%E5%8C%96/" class="prev" rel="prev" title="Python可视化"><i class="fas fa-angle-left fa-fw"></i>Python可视化</a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">由 <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.89.1">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Chano</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.zh-cn","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
